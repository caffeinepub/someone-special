{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "A canvas-based app where users can add hearts and messages, stored on the Internet Computer backend canister. Version 6 is the stable base; user wants to keep all existing functionality and add drag-to-reposition hearts feature.",
  "architectural_notes": [
    "Data (hearts and messages) is stored in an Internet Computer backend canister and persists across sessions."
  ],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-add-a-drag-and-drop-interaction-to-each-heart-icon-on-the-heartcanvas-so-users-can-click-and-drag-a-heart-to-reposition-it-anywhere-on-the-canvas-while-dragging-the-heart-should-follow-the-cursor-smoothly-on-drop-the-new-position-as-percentage-coordinates-relative-to-the-canvas-must-be-persisted-to-the-backend",
      "title": "Add a drag-and-drop interaction to each heart icon on the HeartCanvas so users can click and drag a heart to reposition it anywhere on the canvas. While dragging, the heart should follow the cursor smoothly. On drop, the new position (as percentage coordinates relative to the canvas) must be persisted to the backend.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-useupdateheartposition-mutation-hook-in-usequeries-ts-that-calls-the-backend-updateposition-function-and-invalidates-the-heart-notes-query-on-success",
      "title": "Add a `useUpdateHeartPosition` mutation hook in useQueries.ts that calls the backend `updatePosition` function and invalidates the heart notes query on success.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Allow users to drag and move hearts to desired positions on the canvas",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Add an `updatePosition` backend function to the HeartNote actor that accepts a note ID and new x/y percentage coordinates and updates the stored position for that note.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Someone Special",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}